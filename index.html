<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Espresso World Map</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Merriweather:wght@700&display=swap" rel="stylesheet">
  <!-- Leaflet -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css"/>

  <style>
    :root{
      --bg:#F5EFE7;
      --ink:#2A1F17;
      --border:#D7C7B6;
      --chip:#E0A265;        /* upcoming */
      --chip-past:#8C6A4A;   /* past */
      --glass:#FFFFFF;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
    h1{font-family:Merriweather,serif;font-size:32px;margin:0}
    h2{font-family:Merriweather,serif;font-size:22px;margin:18px 0 8px}

    /* Top Nav */
    .topnav{position:sticky;top:0;z-index:50;background:var(--bg);border-bottom:1px solid rgba(0,0,0,.04);backdrop-filter:saturate(1.1) blur(4px)}
    .nav-wrap{max-width:1152px;margin:0 auto;display:flex;align-items:center;gap:10px;padding:10px 16px}
    .brand-logo{width:28px;height:28px;border-radius:8px;object-fit:contain}
    .brand-name{font-family:Merriweather,serif;font-weight:700}
    .spacer{flex:1}
    .links{display:flex;gap:10px;flex-wrap:wrap}
    .navlink{display:flex;align-items:center;gap:8px;padding:8px 12px;border:1px solid var(--border);border-radius:999px;text-decoration:none;color:var(--ink);background:#fff}
    .navlink svg{width:18px;height:18px}

    /* Page wrap */
    .wrap{max-width:1152px;margin:0 auto;padding:18px}

    p.sub{margin:6px 0 14px;opacity:.9}

    /* Map */
    #map{height:500px;width:100%;border:1px solid var(--border);border-radius:16px;overflow:hidden;box-shadow:0 6px 24px rgba(0,0,0,.06)}

    /* Upcoming cards */
    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px;margin-top:10px}
    .card{position:relative;border:1px solid var(--border);border-radius:18px;overflow:hidden;background:#fff;box-shadow:0 8px 20px rgba(0,0,0,.06)}
    .card .image{height:160px;background:#e8dccb center/110% no-repeat} /* slight zoom-out */
    .card .overlay{position:absolute;inset:0;padding:14px;display:flex;flex-direction:column;justify-content:flex-end;color:#fff;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,rgba(0,0,0,.55) 100%)}
    .chip{display:inline-flex;align-items:center;gap:6px;height:24px;padding:0 10px;border-radius:999px;background:var(--chip);font-size:12px;font-weight:600;line-height:24px;width:max-content}
    .title{font-size:18px;font-weight:700;margin:6px 0 0}
    .country{opacity:.95}
    .date{font-feature-settings:"tnum" 1,"ss01" 1; font-variant-numeric:tabular-nums; opacity:.9; margin-top:2px}

    /* Past list */
    .list{background:#fff;border:1px solid var(--border);border-radius:16px;overflow:hidden;margin-top:10px}
    .row{display:grid;grid-template-columns:1fr auto;gap:10px;align-items:center;padding:13px 14px;border-bottom:1px solid var(--border)}
    .row:last-child{border-bottom:none}
    .chip-past{background:var(--chip-past);color:#fff}

    @media (max-width:560px){
      h1{font-size:26px}
      #map{height:420px}
    }
  </style>
</head>
<body>

  <!-- NAVBAR -->
  <nav class="topnav">
    <div class="nav-wrap">
      <img class="brand-logo" src="espresso.png" alt="Espresso logo"/>
      <div class="brand-name">Espresso</div>
      <div class="spacer"></div>
      <div class="links">
        <a class="navlink" href="https://www.espressosys.com/" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" fill="none" stroke="#2A1F17" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2c3.5 3.2 3.5 16.8 0 20M12 2c-3.5 3.2-3.5 16.8 0 20"/></svg>
          Website
        </a>
        <a class="navlink" href="https://www.espressosys.com/community" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" fill="none" stroke="#2A1F17" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
          Community
        </a>
        <a class="navlink" href="https://discord.com/invite/YHZPk5dbcq" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" fill="none" stroke="#2A1F17" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"><path d="M7.5 18.5c3 1.5 6 1.5 9 0l.7-2.7a7 7 0 0 0 2.3-4.8c0-1.7-.6-3.2-1.6-4.5A12 12 0 0 0 15 5.2a10.4 10.4 0 0 0-6 0 12 12 0 0 0-2.9-1.7 7.2 7.2 0 0 0-1.6 4.5c0 1.9.8 3.6 2.3 4.8l.7 2.7Z"/><circle cx="9" cy="11" r="1.3"/><circle cx="15" cy="11" r="1.3"/></svg>
          Discord
        </a>
        <a class="navlink" href="https://x.com/EspressoSys" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" fill="none" stroke="#2A1F17" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4l16 16M20 4L4 20"/></svg>
          X
        </a>
        <a class="navlink" href="https://medium.com/" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" fill="none" stroke="#2A1F17" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"><path d="M4 8v8l6-8v8l6-8v8l4-2V10l-4-2"/></svg>
          Medium
        </a>
      </div>
    </div>
  </nav>

  <div class="wrap">
    <div style="display:flex;align-items:center;gap:12px;margin:10px 0 8px">
      <h1>Espresso World Map</h1>
    </div>
    <p class="sub">Highlighting where Espresso has been and where weâ€™re going next.</p>

    <div id="map"></div>

    <section class="section">
      <h2>Upcoming Events</h2>
      <div id="upcomingCards" class="cards"></div>
    </section>

    <section class="section">
      <h2>Past Events</h2>
      <div id="pastList" class="list"></div>
    </section>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    // ---- Data ----
    const EVENTS = [
      // past
      { city:'Denver',         country:'USA',      status:'past',     coords:[39.7392,-104.9903], date:'01/01/2020' },
      { city:'San Francisco',  country:'USA',      status:'past',     coords:[37.7749,-122.4194], date:'01/01/2020' },
      { city:'New York',       country:'USA',      status:'past',     coords:[40.7128,-74.0060],  date:'01/01/2000' },
      { city:'Cannes',         country:'France',   status:'past',     coords:[43.5528,7.0174],    date:'02/20/2000' },
      { city:'Bangkok',        country:'Thailand', status:'past',     coords:[13.7563,100.5018],  date:'02/20/2000' },
      { city:'Brussels',       country:'Belgium',  status:'past',     coords:[50.8503,4.3517],    date:'02/20/2000' },
      { city:'Berlin',         country:'Germany',  status:'past',     coords:[52.52,13.4050],     date:'02/20/2000' },
      // upcoming
      { city:'Seoul',          country:'Korea',    status:'upcoming', coords:[37.5665,126.9780],  date:'12/12/2025',
        img:'https://assets.raribleuserdata.com/prod/v1/image/t_image_preview/aHR0cHM6Ly9pcGZzLnJhcmlibGV1c2VyZGF0YS5jb20vaXBmcy9RbVNjWXRHdmhRQXpYNVNjaldVZEo1QlY3eE1KSkc4Ulo5REoyMkRHNkFhanVrLzIxMzYucG5n'
      },
      { city:'Buenos Aires',   country:'Argentina',status:'upcoming', coords:[-34.6037,-58.3816], date:'12/12/2025',
        img:'https://assets.raribleuserdata.com/prod/v1/image/t_image_preview/aHR0cHM6Ly9pcGZzLnJhcmlibGV1c2VyZGF0YS5jb20vaXBmcy9RbVNjWXRHdmhRQXpYNVNjaldVZEo1QlY3eE1KSkc4Ulo5REoyMkRHNkFhanVrLzQ1ODkucG5n'
      }
    ];

    // ---- Map ----
    document.addEventListener('DOMContentLoaded', () => {
      const map = L.map('map', {
        worldCopyJump: true,
        zoomSnap: 0.5
      }).setView([20, 10], 2.2);

      L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; OpenStreetMap'
      }).addTo(map);

      const cupIcon  = L.icon({ iconUrl: 'cup.png',    iconSize:[28,28], iconAnchor:[14,14] });
      const pastIcon = L.icon({ iconUrl: 'pastev2.png', iconSize:[28,28], iconAnchor:[14,14] });

      EVENTS.forEach(e=>{
        const icon = e.status === 'upcoming' ? cupIcon : pastIcon;
        L.marker(e.coords,{icon}).addTo(map)
          .bindTooltip(`<b>${e.city}</b><br>${e.country}<br>${e.date}`);
      });

      renderUpcoming();
      renderPast();
    });

    // ---- Render Upcoming ----
    function renderUpcoming(){
      const root = document.getElementById('upcomingCards');
      root.innerHTML = '';
      EVENTS.filter(e=>e.status==='upcoming').forEach(e=>{
        const el = document.createElement('div');
        el.className = 'card';
        el.innerHTML = `
          <div class="image" style="background-image:url('${e.img}');"></div>
          <div class="overlay">
            <span class="chip">Upcoming</span>
            <div class="title">${e.city}</div>
            <div class="country">${e.country}</div>
            <div class="date">${e.date}</div>
          </div>`;
        root.appendChild(el);
      });
    }

    // ---- Render Past ----
    function renderPast(){
      const root = document.getElementById('pastList');
      root.innerHTML = '';
      EVENTS.filter(e=>e.status==='past').forEach(e=>{
        const row = document.createElement('div');
        row.className = 'row';
        row.innerHTML = `
          <div>
            <div style="font-weight:600">${e.city}</div>
            <div style="opacity:.8">${e.country}</div>
            <div class="date">${e.date}</div>
          </div>
          <div><span class="chip chip-past">Past</span></div>
        `;
        root.appendChild(row);
      });
    }
  </script>
</body>
</html>
